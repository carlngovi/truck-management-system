<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .main-content {
            padding: 30px;
        }
        
        .tab-navigation {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .date-selector, .month-selector {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .date-selector select, .date-selector input, .month-selector select {
            padding: 10px 15px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1em;
            background: white;
        }
        
        .navigation-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
        }
        
        /* Daily View Styles */
        .daily-view {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .daily-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-top: 5px solid #3498db;
        }
        
        .daily-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .trip-card { border-top-color: #e74c3c; }
        .fuel-card { border-top-color: #f39c12; }
        .distance-card { border-top-color: #9b59b6; }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1.1em;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .metric-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .metric-label {
            font-size: 0.75em;
            color: #7f8c8d;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .metric-value {
            font-size: 1.1em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .month-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .current-date {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
        }
        
        /* Monthly Calendar Styles */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .day-header {
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
            text-align: center;
            padding: 15px 5px;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        .day-cell {
            background: white;
            min-height: 80px;
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 8px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
        }
        
        .day-cell:hover {
            background: #f8f9fa;
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }
        
        .day-cell.other-month {
            background: #f7f9fc;
            color: #bdc3c7;
        }
        
        .day-cell.weekend {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
        }
        
        .day-cell.today {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
        }
        
        .day-cell.has-data {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            border-color: #27ae60;
        }
        
        .day-number {
            font-weight: 600;
            font-size: 0.9em;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .trip-input {
            width: 100%;
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .day-total {
            font-size: 0.7em;
            color: #27ae60;
            font-weight: 600;
            text-align: center;
        }
        
        .monthly-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            text-align: center;
            border-top: 4px solid #3498db;
        }
        
        .stat-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 0.9em;
            text-transform: uppercase;
        }
        
        .stat-card .value {
            font-size: 1.8em;
            font-weight: bold;
            color: #3498db;
        }
        
        /* Cost Centre Totals Styles */
        .totals-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px;
        }
        
        .totals-header h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .totals-header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }
        
        .period-selector {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .totals-summary {
            display: flex;
            gap: 30px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .cost-centres-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .cost-centre-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cost-centre-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #2980b9);
        }
        
        .fuel-centre::before { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .interest-centre::before { background: linear-gradient(90deg, #f39c12, #d68910); }
        .driver-centre::before { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .mike-centre::before { background: linear-gradient(90deg, #f39c12, #d68910); }
        .captain-centre::before { background: linear-gradient(90deg, #3498db, #2980b9); }
        .boss-centre::before { background: linear-gradient(90deg, #9b59b6, #8e44ad); }
        .truck-centre::before { background: linear-gradient(90deg, #95a5a6, #7f8c8d); }
        .capex-centre::before { background: linear-gradient(90deg, #34495e, #2c3e50); }
        .profit-centre::before { background: linear-gradient(90deg, #27ae60, #229954); }
        
        .cost-centre-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }
        
        .centre-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .centre-icon {
            font-size: 2em;
            margin-right: 15px;
            padding: 10px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }
        
        .centre-info h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .rate-info {
            color: #7f8c8d;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .centre-amount {
            font-size: 2em;
            font-weight: bold;
            color: #27ae60;
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: linear-gradient(135deg, #e8f5e8, #d5f5d5);
            border-radius: 10px;
        }
        
        .centre-percentage {
            text-align: center;
            font-size: 0.9em;
            color: #7f8c8d;
            font-weight: 600;
        }
        
        .totals-summary-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .summary-verification h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }
        
        .verification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .verification-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .verification-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .verification-value {
            font-weight: bold;
            color: #27ae60;
            font-size: 1.1em;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.5em;
            font-weight: 600;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .modal-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .modal-form-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        
        .modal-form-section h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .modal-input-group {
            margin-bottom: 15px;
        }
        
        .modal-input-group label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .modal-input-group input,
        .modal-input-group select,
        .modal-input-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 1em;
        }
        
        .modal-actions {
            display: flex;
            justify-content: space-between;
            padding: 20px 30px;
            background: #f8f9fa;
            border-top: 1px solid #e1e8ed;
        }
        
        .modal-save-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .daily-view {
                grid-template-columns: 1fr;
            }
            
            .modal-form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöõ Trip Management System</h1>
            <p>Daily tracking with fuel, distance and monthly planning (Kenya Shillings)</p>
        </div>
        
        <div class="main-content">
            <div class="tab-navigation">
                <button class="tab-button active" onclick="switchTab('daily')">
                    üìä Daily Management
                </button>
                <button class="tab-button" onclick="switchTab('monthly')">
                    üìÖ Monthly Summary
                </button>
                <button class="tab-button" onclick="switchTab('totals')">
                    üí∞ Cost Centre Totals
                </button>
            </div>
            
            <!-- Daily Management Tab -->
            <div id="daily-tab" class="tab-content active">
                <div class="controls">
                    <div class="date-selector">
                        <label for="currentDate">Date:</label>
                        <input type="date" id="currentDate" onchange="updateDaily()">
                    </div>
                    
                    <div class="navigation-buttons">
                        <button class="btn btn-secondary" onclick="previousDay()">‚¨Ö Previous</button>
                        <button class="btn btn-primary" onclick="goToToday()">Today</button>
                        <button class="btn btn-secondary" onclick="nextDay()">Next ‚û°</button>
                    </div>
                </div>
                
                <div class="month-navigation">
                    <div class="current-date" id="displayDate">Friday, June 28, 2025</div>
                    <div class="day-info">
                        <span id="dayType">Working Day</span> | 
                        <span id="monthProgress">Day 28 of 30</span>
                    </div>
                </div>
                
                <div class="daily-view">
                    <div class="daily-card trip-card">
                        <h3>üöõ Trip Information</h3>
                        
                        <div class="input-group">
                            <label for="dailyTrips">Number of Trips</label>
                            <input type="number" id="dailyTrips" min="0" placeholder="Enter trips" onchange="calculateDaily()">
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <div class="metric-label">Daily Revenue</div>
                                <div class="metric-value" id="dailyRevenue">KES 0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Trip Rate</div>
                                <div class="metric-value">KES 3,500</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="daily-card fuel-card">
                        <h3>‚õΩ Fuel Management</h3>
                        
                        <div class="input-group">
                            <label for="actualFuelSpent">Fuel Cost (KES)</label>
                            <input type="number" id="actualFuelSpent" placeholder="Enter fuel cost" onchange="calculateDaily()">
                        </div>
                        
                        <div class="input-group">
                            <label for="fuelLitres">Litres Purchased</label>
                            <input type="number" id="fuelLitres" step="0.1" placeholder="Enter litres" onchange="calculateDaily()">
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <div class="metric-label">Price/Litre</div>
                                <div class="metric-value" id="pricePerLitre">KES 0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Fuel Variance</div>
                                <div class="metric-value" id="fuelVariance">KES 0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="daily-card distance-card">
                        <h3>üìè Distance Tracking</h3>
                        
                        <div class="input-group">
                            <label for="totalKilometers">Total Kilometers</label>
                            <input type="number" id="totalKilometers" step="0.1" placeholder="Enter km" onchange="calculateDaily()">
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <div class="metric-label">Km/Trip</div>
                                <div class="metric-value" id="kmPerTrip">0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Km/Litre</div>
                                <div class="metric-value" id="kmPerLitre">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Monthly Summary Tab -->
            <div id="monthly-tab" class="tab-content">
                <div class="month-selector">
                    <label for="monthSelect">Month:</label>
                    <select id="monthSelect" onchange="updateMonthlyCalendar()">
                        <option value="0">January</option>
                        <option value="1">February</option>
                        <option value="2">March</option>
                        <option value="3">April</option>
                        <option value="4">May</option>
                        <option value="5">June</option>
                        <option value="6">July</option>
                        <option value="7">August</option>
                        <option value="8">September</option>
                        <option value="9">October</option>
                        <option value="10">November</option>
                        <option value="11">December</option>
                    </select>
                    <select id="yearSelect" onchange="updateMonthlyCalendar()">
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025" selected>2025</option>
                        <option value="2026">2026</option>
                    </select>
                    
                    <div class="navigation-buttons">
                        <button class="btn btn-secondary" onclick="clearAllTrips()">Clear All</button>
                        <button class="btn btn-primary" onclick="fillWeekdays(7)">Fill Weekdays</button>
                    </div>
                </div>
                
                <div class="calendar-grid" id="monthlyCalendarGrid">
                    <!-- Calendar will be generated here -->
                </div>
                
                <div class="monthly-stats">
                    <div class="stat-card">
                        <h4>Total Trips</h4>
                        <div class="value" id="monthlyTotalTrips">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Working Days</h4>
                        <div class="value" id="monthlyWorkingDays">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Monthly Revenue</h4>
                        <div class="value" id="monthlyRevenue">KES 0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Average per Day</h4>
                        <div class="value" id="monthlyAvgPerDay">KES 0</div>
                    </div>
                </div>
            </div>
            
            <!-- Cost Centre Totals Tab -->
            <div id="totals-tab" class="tab-content">
                <div class="totals-header">
                    <h2>üí∞ Cost Centre Accumulation Totals</h2>
                    <p>Track cumulative amounts due to each cost centre based on completed trips</p>
                </div>
                
                <div class="period-selector">
                    <label for="totalsMonth">Period:</label>
                    <select id="totalsMonth" onchange="updateTotalsView()">
                        <option value="0">January</option>
                        <option value="1">February</option>
                        <option value="2">March</option>
                        <option value="3">April</option>
                        <option value="4">May</option>
                        <option value="5">June</option>
                        <option value="6">July</option>
                        <option value="7">August</option>
                        <option value="8">September</option>
                        <option value="9">October</option>
                        <option value="10">November</option>
                        <option value="11">December</option>
                    </select>
                    <select id="totalsYear" onchange="updateTotalsView()">
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025" selected>2025</option>
                        <option value="2026">2026</option>
                    </select>
                    
                    <div class="totals-summary">
                        <span>Total Trips: <strong id="totalTripsCount">131</strong></span>
                        <span>Total Revenue: <strong id="totalRevenueAmount">KES 458,500</strong></span>
                    </div>
                </div>
                
                <div class="cost-centres-grid">
                    <div class="cost-centre-card fuel-centre">
                        <div class="centre-header">
                            <div class="centre-icon">‚õΩ</div>
                            <div class="centre-info">
                                <h3>Fuel Cost</h3>
                                <span class="rate-info">KES 1,300 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="fuelCostTotal">KES 170,300</div>
                        <div class="centre-percentage">37.1% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card interest-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üìà</div>
                            <div class="centre-info">
                                <h3>Fuel Interest</h3>
                                <span class="rate-info">KES 195 per trip (15%)</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="fuelInterestTotal">KES 25,545</div>
                        <div class="centre-percentage">5.6% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card driver-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üöó</div>
                            <div class="centre-info">
                                <h3>Driver</h3>
                                <span class="rate-info">KES 250 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="driverTotal">KES 32,750</div>
                        <div class="centre-percentage">7.1% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card mike-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üë®‚Äçüíº</div>
                            <div class="centre-info">
                                <h3>Mike</h3>
                                <span class="rate-info">KES 200 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="mikeTotalAmount">KES 26,200</div>
                        <div class="centre-percentage">5.7% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card captain-centre">
                        <div class="centre-header">
                            <div class="centre-icon">‚öì</div>
                            <div class="centre-info">
                                <h3>Captain</h3>
                                <span class="rate-info">KES 100 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="captainTotalAmount">KES 13,100</div>
                        <div class="centre-percentage">2.9% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card boss-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üëî</div>
                            <div class="centre-info">
                                <h3>Boss</h3>
                                <span class="rate-info">KES 100 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="bossTotalAmount">KES 13,100</div>
                        <div class="centre-percentage">2.9% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card truck-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üöõ</div>
                            <div class="centre-info">
                                <h3>Truck</h3>
                                <span class="rate-info">KES 478 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="truckTotal">KES 62,618</div>
                        <div class="centre-percentage">13.7% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card capex-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üèóÔ∏è</div>
                            <div class="centre-info">
                                <h3>Capex</h3>
                                <span class="rate-info">KES 502 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="capexTotal">KES 65,762</div>
                        <div class="centre-percentage">14.3% of revenue</div>
                    </div>
                    
                    <div class="cost-centre-card profit-centre">
                        <div class="centre-header">
                            <div class="centre-icon">üíé</div>
                            <div class="centre-info">
                                <h3>Profit</h3>
                                <span class="rate-info">KES 475 per trip</span>
                            </div>
                        </div>
                        <div class="centre-amount" id="profitTotal">KES 62,225</div>
                        <div class="centre-percentage">13.6% of revenue</div>
                    </div>
                </div>
                
                <div class="totals-summary-section">
                    <div class="summary-verification">
                        <h3>‚úÖ Verification Summary</h3>
                        <div class="verification-grid">
                            <div class="verification-item">
                                <span class="verification-label">Expected Total (131 √ó 3,500):</span>
                                <span class="verification-value">KES 458,500</span>
                            </div>
                            <div class="verification-item">
                                <span class="verification-label">Actual Cost Centre Total:</span>
                                <span class="verification-value" id="actualTotal">KES 458,500</span>
                            </div>
                            <div class="verification-item">
                                <span class="verification-label">Difference:</span>
                                <span class="verification-value" id="difference">KES 0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Day Detail Modal -->
            <div class="modal-overlay" id="dayDetailModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title" id="modalTitle">Day Details</h3>
                        <button class="modal-close" onclick="closeDayModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-form-grid">
                            <div class="modal-form-section">
                                <h4>üöõ Trip Details</h4>
                                <div class="modal-input-group">
                                    <label for="modalTrips">Number of Trips</label>
                                    <input type="number" id="modalTrips" min="0" placeholder="Enter trips" onchange="calculateModalMetrics()">
                                </div>
                                <div class="modal-input-group">
                                    <label for="modalRoute">Route</label>
                                    <input type="text" id="modalRoute" placeholder="e.g., Nairobi - Mombasa">
                                </div>
                            </div>
                            
                            <div class="modal-form-section">
                                <h4>‚õΩ Fuel & Distance</h4>
                                <div class="modal-input-group">
                                    <label for="modalFuelSpent">Fuel Cost (KES)</label>
                                    <input type="number" id="modalFuelSpent" placeholder="Enter fuel cost" onchange="calculateModalMetrics()">
                                </div>
                                <div class="modal-input-group">
                                    <label for="modalFuelLitres">Litres</label>
                                    <input type="number" id="modalFuelLitres" step="0.1" placeholder="Enter litres" onchange="calculateModalMetrics()">
                                </div>
                                <div class="modal-input-group">
                                    <label for="modalKilometers">Kilometers</label>
                                    <input type="number" id="modalKilometers" step="0.1" placeholder="Enter km" onchange="calculateModalMetrics()">
                                </div>
                            </div>
                        </div>
                        
                        <div class="modal-form-section">
                            <h4>üìù Notes</h4>
                            <div class="modal-input-group">
                                <textarea id="modalNotes" rows="3" placeholder="Any notes or observations..."></textarea>
                            </div>
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <div class="metric-label">Revenue</div>
                                <div class="metric-value" id="modalRevenue">KES 0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">KES/Litre</div>
                                <div class="metric-value" id="modalPricePerLitre">0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Km/Trip</div>
                                <div class="metric-value" id="modalKmPerTrip">0</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Km/Litre</div>
                                <div class="metric-value" id="modalKmPerLitre">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <div id="modalDateInfo">Day info</div>
                        <button class="modal-save-btn" onclick="saveDayData()">üíæ Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Global variables
        let currentDate = new Date(2025, 5, 28);
        let currentMonth = 5;
        let currentYear = 2025;
        let dailyData = {};
        let tripData = {};
        let currentModalDate = null;
        
        // Utility functions
        function formatNumber(num) {
            return new Intl.NumberFormat('en-KE').format(num);
        }
        
        function formatDate(date) {
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return date.toLocaleDateString('en-US', options);
        }
        
        function getDateKey(date) {
            return date.toISOString().split('T')[0];
        }
        
        function isWeekend(date) {
            return date.getDay() === 0 || date.getDay() === 6;
        }
        
        function isToday(day, month, year) {
            const today = new Date();
            return day === today.getDate() && 
                   month === today.getMonth() && 
                   year === today.getFullYear();
        }
        
        function getDaysInMonth(month, year) {
            return new Date(year, month + 1, 0).getDate();
        }
        
        function getFirstDayOfMonth(month, year) {
            return new Date(year, month, 1).getDay();
        }
        
        // Tab Management
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'monthly') {
                updateMonthlyCalendar();
            } else if (tabName === 'totals') {
                updateTotalsView();
            }
        }
        
        // Daily Management
        function updateDateDisplay() {
            const dateInput = document.getElementById('currentDate');
            const displayDate = document.getElementById('displayDate');
            const dayType = document.getElementById('dayType');
            const monthProgress = document.getElementById('monthProgress');
            
            dateInput.value = getDateKey(currentDate);
            displayDate.textContent = formatDate(currentDate);
            
            if (isWeekend(currentDate)) {
                dayType.textContent = currentDate.getDay() === 0 ? 'Sunday' : 'Saturday';
                dayType.style.color = '#e74c3c';
            } else {
                dayType.textContent = 'Working Day';
                dayType.style.color = '#27ae60';
            }
            
            const daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();
            monthProgress.textContent = `Day ${currentDate.getDate()} of ${daysInMonth}`;
        }
        
        function loadDailyData() {
            const dateKey = getDateKey(currentDate);
            const data = dailyData[dateKey] || {};
            
            document.getElementById('dailyTrips').value = data.trips || '';
            document.getElementById('actualFuelSpent').value = data.fuelSpent || '';
            document.getElementById('fuelLitres').value = data.fuelLitres || '';
            document.getElementById('totalKilometers').value = data.totalKilometers || '';
        }
        
        function saveDailyData() {
            const dateKey = getDateKey(currentDate);
            const trips = parseInt(document.getElementById('dailyTrips').value) || 0;
            
            dailyData[dateKey] = {
                trips: trips,
                fuelSpent: parseFloat(document.getElementById('actualFuelSpent').value) || 0,
                fuelLitres: parseFloat(document.getElementById('fuelLitres').value) || 0,
                totalKilometers: parseFloat(document.getElementById('totalKilometers').value) || 0
            };
            
            tripData[dateKey] = trips;
        }
        
        function calculateDaily() {
            saveDailyData();
            
            const trips = parseInt(document.getElementById('dailyTrips').value) || 0;
            const fuelSpent = parseFloat(document.getElementById('actualFuelSpent').value) || 0;
            const fuelLitres = parseFloat(document.getElementById('fuelLitres').value) || 0;
            const totalKm = parseFloat(document.getElementById('totalKilometers').value) || 0;
            
            // Calculate revenue
            const dailyRevenue = trips * 3500;
            document.getElementById('dailyRevenue').textContent = 'KES ' + formatNumber(dailyRevenue);
            
            // Calculate fuel metrics
            const pricePerLitre = fuelLitres > 0 ? fuelSpent / fuelLitres : 0;
            document.getElementById('pricePerLitre').textContent = 'KES ' + formatNumber(Math.round(pricePerLitre));
            
            const budgetedFuel = trips * 1300;
            const fuelVariance = budgetedFuel - fuelSpent;
            document.getElementById('fuelVariance').textContent = 
                (fuelVariance >= 0 ? '+' : '') + 'KES ' + formatNumber(fuelVariance);
            document.getElementById('fuelVariance').style.color = fuelVariance >= 0 ? '#27ae60' : '#e74c3c';
            
            // Calculate distance metrics
            const kmPerTrip = trips > 0 ? totalKm / trips : 0;
            document.getElementById('kmPerTrip').textContent = kmPerTrip.toFixed(1);
            
            const kmPerLitre = fuelLitres > 0 ? totalKm / fuelLitres : 0;
            document.getElementById('kmPerLitre').textContent = kmPerLitre.toFixed(1);
        }
        
        function updateDaily() {
            const dateInput = document.getElementById('currentDate');
            currentDate = new Date(dateInput.value);
            updateDateDisplay();
            loadDailyData();
            calculateDaily();
        }
        
        function previousDay() {
            currentDate.setDate(currentDate.getDate() - 1);
            updateDateDisplay();
            loadDailyData();
            calculateDaily();
        }
        
        function nextDay() {
            currentDate.setDate(currentDate.getDate() + 1);
            updateDateDisplay();
            loadDailyData();
            calculateDaily();
        }
        
        function goToToday() {
            currentDate = new Date();
            updateDateDisplay();
            loadDailyData();
            calculateDaily();
        }
        
        // Monthly Calendar Functions
        function updateMonthlyCalendar() {
            const monthSelect = document.getElementById('monthSelect');
            const yearSelect = document.getElementById('yearSelect');
            
            currentMonth = parseInt(monthSelect.value);
            currentYear = parseInt(yearSelect.value);
            
            generateMonthlyCalendar();
            calculateMonthlyStats();
        }
        
        function generateMonthlyCalendar() {
            const calendarGrid = document.getElementById('monthlyCalendarGrid');
            const daysInMonth = getDaysInMonth(currentMonth, currentYear);
            const firstDay = getFirstDayOfMonth(currentMonth, currentYear);
            
            calendarGrid.innerHTML = '';
            
            // Add day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const header = document.createElement('div');
                header.className = 'day-header';
                header.textContent = day;
                calendarGrid.appendChild(header);
            });
            
            // Add empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell other-month';
                calendarGrid.appendChild(emptyCell);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                let cellClass = 'day-cell';
                
                if (isToday(day, currentMonth, currentYear)) {
                    cellClass += ' today';
                }
                if (isWeekend(new Date(currentYear, currentMonth, day))) {
                    cellClass += ' weekend';
                }
                
                const dateKey = `${currentYear}-${String(currentMonth).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const trips = tripData[dateKey] || 0;
                
                // Check if day has additional data
                if (dailyData[dateKey] && (dailyData[dateKey].fuelSpent || dailyData[dateKey].totalKilometers)) {
                    cellClass += ' has-data';
                }
                
                dayCell.className = cellClass;
                
                dayCell.innerHTML = `
                    <div class="day-number">${day}</div>
                    <input type="number" class="trip-input" min="0" value="${trips}" 
                           onchange="updateTrips('${dateKey}', this.value)" 
                           onclick="event.stopPropagation()"
                           placeholder="Trips">
                    <div class="day-total">KES ${formatNumber(trips * 3500)}</div>
                `;
                
                // Add click event to open modal
                dayCell.addEventListener('click', function() {
                    openDayModal(dateKey, day);
                });
                
                calendarGrid.appendChild(dayCell);
            }
            
            // Fill remaining cells
            const totalCells = calendarGrid.children.length;
            const remainingCells = 42 - totalCells + 7;
            for (let i = 0; i < remainingCells; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell other-month';
                calendarGrid.appendChild(emptyCell);
            }
        }
        
        function updateTrips(dateKey, value) {
            const trips = parseInt(value) || 0;
            tripData[dateKey] = trips;
            
            // Update the day total display
            const dayCell = event.target.parentElement;
            const dayTotal = dayCell.querySelector('.day-total');
            dayTotal.textContent = `KES ${formatNumber(trips * 3500)}`;
            
            // Update stored data
            if (!dailyData[dateKey]) dailyData[dateKey] = {};
            dailyData[dateKey].trips = trips;
            
            calculateMonthlyStats();
        }
        
        function calculateMonthlyStats() {
            const daysInMonth = getDaysInMonth(currentMonth, currentYear);
            let totalTrips = 0;
            let workingDays = 0;
            let monthlyRevenue = 0;
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dateKey = `${currentYear}-${String(currentMonth).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const trips = tripData[dateKey] || 0;
                
                if (trips > 0) {
                    workingDays++;
                    totalTrips += trips;
                    monthlyRevenue += trips * 3500;
                }
            }
            
            const avgPerDay = workingDays > 0 ? monthlyRevenue / workingDays : 0;
            
            document.getElementById('monthlyTotalTrips').textContent = totalTrips;
            document.getElementById('monthlyWorkingDays').textContent = workingDays;
            document.getElementById('monthlyRevenue').textContent = 'KES ' + formatNumber(monthlyRevenue);
            document.getElementById('monthlyAvgPerDay').textContent = 'KES ' + formatNumber(Math.round(avgPerDay));
        }
        
        function clearAllTrips() {
            const daysInMonth = getDaysInMonth(currentMonth, currentYear);
            for (let day = 1; day <= daysInMonth; day++) {
                const dateKey = `${currentYear}-${String(currentMonth).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                tripData[dateKey] = 0;
                if (dailyData[dateKey]) {
                    dailyData[dateKey].trips = 0;
                }
            }
            generateMonthlyCalendar();
            calculateMonthlyStats();
        }
        
        function fillWeekdays(trips) {
            const daysInMonth = getDaysInMonth(currentMonth, currentYear);
            
            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentYear, currentMonth, day);
                const dayOfWeek = date.getDay();
                
                if (dayOfWeek !== 0) { // Skip Sundays
                    const dateKey = `${currentYear}-${String(currentMonth).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    tripData[dateKey] = trips;
                    if (!dailyData[dateKey]) dailyData[dateKey] = {};
                    dailyData[dateKey].trips = trips;
                }
            }
            
            generateMonthlyCalendar();
            calculateMonthlyStats();
        }
        
        // Modal Functions
        function openDayModal(dateKey, day) {
            currentModalDate = dateKey;
            const date = new Date(dateKey);
            
            document.getElementById('modalTitle').textContent = 
                `Day ${day} - ${date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' })}`;
            
            const dayType = isWeekend(date) ? (date.getDay() === 0 ? 'Sunday' : 'Saturday') : 'Working Day';
            const daysInMonth = getDaysInMonth(date.getMonth(), date.getFullYear());
            document.getElementById('modalDateInfo').textContent = `${dayType} | Day ${day} of ${daysInMonth}`;
            
            // Load existing data
            const existingData = dailyData[dateKey] || {};
            
            document.getElementById('modalTrips').value = existingData.trips || '';
            document.getElementById('modalRoute').value = existingData.route || '';
            document.getElementById('modalFuelSpent').value = existingData.fuelSpent || '';
            document.getElementById('modalFuelLitres').value = existingData.fuelLitres || '';
            document.getElementById('modalKilometers').value = existingData.totalKilometers || '';
            document.getElementById('modalNotes').value = existingData.notes || '';
            
            calculateModalMetrics();
            
            document.getElementById('dayDetailModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeDayModal() {
            document.getElementById('dayDetailModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            currentModalDate = null;
        }
        
        function calculateModalMetrics() {
            const trips = parseInt(document.getElementById('modalTrips').value) || 0;
            const fuelSpent = parseFloat(document.getElementById('modalFuelSpent').value) || 0;
            const fuelLitres = parseFloat(document.getElementById('modalFuelLitres').value) || 0;
            const totalKm = parseFloat(document.getElementById('modalKilometers').value) || 0;
            
            // Calculate metrics
            const revenue = trips * 3500;
            document.getElementById('modalRevenue').textContent = 'KES ' + formatNumber(revenue);
            
            const pricePerLitre = fuelLitres > 0 ? fuelSpent / fuelLitres : 0;
            document.getElementById('modalPricePerLitre').textContent = formatNumber(Math.round(pricePerLitre));
            
            const kmPerTrip = trips > 0 ? totalKm / trips : 0;
            document.getElementById('modalKmPerTrip').textContent = kmPerTrip.toFixed(1);
            
            const kmPerLitre = fuelLitres > 0 ? totalKm / fuelLitres : 0;
            document.getElementById('modalKmPerLitre').textContent = kmPerLitre.toFixed(1);
        }
        
        function saveDayData() {
            if (!currentModalDate) return;
            
            const trips = parseInt(document.getElementById('modalTrips').value) || 0;
            
            dailyData[currentModalDate] = {
                trips: trips,
                route: document.getElementById('modalRoute').value,
                fuelSpent: parseFloat(document.getElementById('modalFuelSpent').value) || 0,
                fuelLitres: parseFloat(document.getElementById('modalFuelLitres').value) || 0,
                totalKilometers: parseFloat(document.getElementById('modalKilometers').value) || 0,
                notes: document.getElementById('modalNotes').value
            };
            
            tripData[currentModalDate] = trips;
            
            closeDayModal();
            generateMonthlyCalendar();
            calculateMonthlyStats();
            
            // Show success message
            alert('Day data saved successfully!');
        }
        
        // Cost Centre Totals Functions
        function updateTotalsView() {
            const totalsMonth = document.getElementById('totalsMonth');
            const totalsYear = document.getElementById('totalsYear');
            
            // Set default to current June 2025 data
            totalsMonth.value = currentMonth;
            totalsYear.value = currentYear;
            
            calculateCostCentreTotals();
        }
        
        function calculateCostCentreTotals() {
            // Calculate total trips for the selected period
            let totalTripsForPeriod = 0;
            const selectedMonth = parseInt(document.getElementById('totalsMonth').value);
            const selectedYear = parseInt(document.getElementById('totalsYear').value);
            
            // Count trips for the selected month/year
            Object.keys(tripData).forEach(dateKey => {
                const date = new Date(dateKey);
                if (date.getMonth() === selectedMonth && date.getFullYear() === selectedYear) {
                    totalTripsForPeriod += tripData[dateKey] || 0;
                }
            });
            
            // If no data for selected period, use current June data as default
            if (totalTripsForPeriod === 0 && selectedMonth === 5 && selectedYear === 2025) {
                totalTripsForPeriod = 131; // Our June 2025 data
            }
            
            // Cost structure per trip
            const costStructure = {
                fuelCost: 1300,
                fuelInterest: 195,
                driver: 250,
                mike: 200,
                captain: 100,
                boss: 100,
                truck: 478,
                capex: 502,
                profit: 475
            };
            
            // Calculate totals for each cost centre
            const totals = {};
            Object.keys(costStructure).forEach(centre => {
                totals[centre] = totalTripsForPeriod * costStructure[centre];
            });
            
            // Update display
            document.getElementById('totalTripsCount').textContent = totalTripsForPeriod;
            document.getElementById('totalRevenueAmount').textContent = 'KES ' + formatNumber(totalTripsForPeriod * 3500);
            
            // Update individual cost centre amounts
            document.getElementById('fuelCostTotal').textContent = 'KES ' + formatNumber(totals.fuelCost);
            document.getElementById('fuelInterestTotal').textContent = 'KES ' + formatNumber(totals.fuelInterest);
            document.getElementById('driverTotal').textContent = 'KES ' + formatNumber(totals.driver);
            document.getElementById('mikeTotalAmount').textContent = 'KES ' + formatNumber(totals.mike);
            document.getElementById('captainTotalAmount').textContent = 'KES ' + formatNumber(totals.captain);
            document.getElementById('bossTotalAmount').textContent = 'KES ' + formatNumber(totals.boss);
            document.getElementById('truckTotal').textContent = 'KES ' + formatNumber(totals.truck);
            document.getElementById('capexTotal').textContent = 'KES ' + formatNumber(totals.capex);
            document.getElementById('profitTotal').textContent = 'KES ' + formatNumber(totals.profit);
            
            // Calculate verification totals
            const actualTotal = Object.values(totals).reduce((sum, amount) => sum + amount, 0);
            const expectedTotal = totalTripsForPeriod * 3500;
            const difference = expectedTotal - actualTotal;
            
            document.getElementById('actualTotal').textContent = 'KES ' + formatNumber(actualTotal);
            document.getElementById('difference').textContent = 'KES ' + formatNumber(difference);
            document.getElementById('difference').style.color = difference === 0 ? '#27ae60' : '#e74c3c';
        }
        
        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.id === 'dayDetailModal') {
                closeDayModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && currentModalDate) {
                closeDayModal();
            }
        });
        
        // Initialize the application
        function initializeApp() {
            // Pre-populate June 2025 trip data
            const juneData = {
                '2025-06-10': 8,
                '2025-06-11': 6,
                '2025-06-12': 8,
                '2025-06-13': 9,
                '2025-06-14': 3,
                '2025-06-15': 0,
                '2025-06-16': 8,
                '2025-06-17': 11,
                '2025-06-18': 5,
                '2025-06-19': 10,
                '2025-06-20': 2,
                '2025-06-21': 0,
                '2025-06-22': 0,
                '2025-06-23': 10,
                '2025-06-24': 10,
                '2025-06-25': 0,
                '2025-06-26': 5,
                '2025-06-27': 8,
                '2025-06-28': 10,
                '2025-06-29': 8,
                '2025-06-30': 10
            };
            
            // Load the trip data
            Object.keys(juneData).forEach(dateKey => {
                const trips = juneData[dateKey];
                tripData[dateKey] = trips;
                
                // Initialize daily data structure
                if (!dailyData[dateKey]) {
                    dailyData[dateKey] = {};
                }
                dailyData[dateKey].trips = trips;
            });
            
            updateDateDisplay();
            loadDailyData();
            calculateDaily();
            
            document.getElementById('monthSelect').value = currentMonth;
            document.getElementById('yearSelect').value = currentYear;
            
            // Automatically switch to Monthly Summary tab to show the loaded data
            setTimeout(() => {
                switchToMonthlyTab();
                generateMonthlyCalendar();
                calculateMonthlyStats();
                
                // Initialize totals view
                document.getElementById('totalsMonth').value = currentMonth;
                document.getElementById('totalsYear').value = currentYear;
                
                // Show success message after tab switch
                setTimeout(() => {
                    showDataLoadedMessage();
                }, 200);
            }, 100);
        }
        
        function switchToMonthlyTab() {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show monthly tab and activate button
            document.getElementById('monthly-tab').classList.add('active');
            document.querySelectorAll('.tab-button')[1].classList.add('active'); // Second tab button
        }
        
        function showDataLoadedMessage() {
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(45deg, #27ae60, #2ecc71);
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
                z-index: 1001;
                animation: slideInRight 0.3s ease-out;
                max-width: 300px;
                text-align: center;
            `;
            messageDiv.innerHTML = `
                <div style="font-size: 1.1em; margin-bottom: 5px;">‚úÖ Data Loaded Successfully!</div>
                <div style="font-size: 0.9em; opacity: 0.9;">131 trips for June 2025</div>
                <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.8;">Click any day for details</div>
            `;
            
            // Add animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOutRight {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(messageDiv);
            
            // Remove after 5 seconds
            setTimeout(() => {
                messageDiv.style.animation = 'slideOutRight 0.3s ease-in';
                setTimeout(() => {
                    if (document.body.contains(messageDiv)) {
                        document.body.removeChild(messageDiv);
                    }
                }, 300);
            }, 5000);
        }
        
        // Start when page loads
        window.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>